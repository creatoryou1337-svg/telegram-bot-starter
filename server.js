const express = require('express');
const app = express();
app.use(express.json());

// –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ ‚Äî –ø—Ä–æ—Å—Ç–æ —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å, —á—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç
app.get('/', (req, res) => {
  res.send('–¢–µ—Å—Ç–æ–≤—ã–π —Å–µ—Ä–≤–µ—Ä –Ω–∞ Render —Ä–∞–±–æ—Ç–∞–µ—Ç! üöÄ<br><br>–≠—Ç–æ –ø—É–±–ª–∏—á–Ω–∞—è —Å—Å—ã–ª–∫–∞ ‚Äî –æ—Ç–∫—Ä—ã–≤–∞–π –≤ –±—Ä–∞—É–∑–µ—Ä–µ.');
});

// –¢–µ—Å—Ç–æ–≤—ã–π —ç–Ω–¥–ø–æ–∏–Ω—Ç (–∏–º–∏—Ç–∞—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞—è–≤–∫–∏)
app.post('/api/test-order', (req, res) => {
  const { wallet, amount } = req.body;
  res.json({
    success: true,
    message: `–ü–æ–ª—É—á–µ–Ω–∞ –∑–∞—è–≤–∫–∞: ${amount} —Ç–æ–∫–µ–Ω–æ–≤ —Å –∫–æ—à–µ–ª—å–∫–∞ ${wallet || '–∞–Ω–æ–Ω–∏–º'}`,
    note: '–≠—Ç–æ —Ç–µ—Å—Ç ‚Äî –¥–∞–Ω–Ω—ã–µ –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è, –±–∞–∑–∞ –æ—Ç–∫–ª—é—á–µ–Ω–∞'
  });
});

const PORT = process.env.PORT || 3000;
app.listen(PORT, () => {
  console.log(`–°–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω –Ω–∞ –ø–æ—Ä—Ç—É ${PORT}`);
});
